// Native Modules
var path = require('path');
var fs = require('fs');
// Custom Modules
var log = require('log');
// Paths
var errors_folder = path.join(__dirname, "..", "..", "public", "errors");
// Exports
module.exports = function(statusCode, request, response) {
  response.writeHead(statusCode);
  var path_to_file = path.join(errors_folder, statusCode + ".html");
  fs.readFile(path_to_file, function(err, data){
    if (err) throw err;
    log(" [+] " + request.method + " from " + request.connection.remoteAddress + " for " + path_to_file);
    response.end(data);
  });
};
